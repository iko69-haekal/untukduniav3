_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"6gKm":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/galery/ubah/[id]",function(){return a("s+/Z")}])},hmj4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="https://api.untukdunia.com/"},"s+/Z":function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),c=a("HaE+"),i=a("nKUr"),o=a("tsqr"),s=a("8z0m"),u=a("2/Rp"),l=a("z7Xi"),d=a("vDqi"),j=a.n(d),p=a("q1tI"),b=a("M4zP"),m=a("hmj4"),f=a("nOHt"),g=function(e){var t=e.galery,a=Object(f.useRouter)().query.id,n=Object(p.useState)(!1),r=n[0],c=n[1],d=Object(p.useState)(""),g=d[0],h=d[1],O=Object(p.useState)(""),x=O[0],_=O[1],k=Object(p.useState)(""),v=k[0],y=k[1];Object(p.useEffect)((function(){h(t.image_title),_(t.image),y(t.article_link)}),[]);return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(b.a,{children:Object(i.jsx)("div",{className:"row justify-content-center mt-5 pt-5",children:Object(i.jsxs)("div",{className:"col-md-6",children:[Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{children:"Nama gambar"}),Object(i.jsx)("input",{value:g,type:"text",className:"form-control",placeholder:"masukan nama gambar",onChange:function(e){return h(e.target.value)}})]}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{children:"link tujuan"}),Object(i.jsx)("input",{value:v,type:"text",className:"form-control",placeholder:"masukan link tujuan",onChange:function(e){return y(e.target.value)}})]}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{children:"Gambar Produk: "}),Object(i.jsx)("br",{}),Object(i.jsx)(s.a,{beforeUpload:function(e){return e.size>7e5?(o.b.error("file terlalu besar"),!1):(_(e),!1)},children:Object(i.jsx)(u.a,{icon:Object(i.jsx)(l.a,{}),children:"Click to Upload"})})]}),Object(i.jsx)(u.a,{loading:r,onClick:function(){if(g.length<5)return o.b.error("title too short"),!1;c(!0);var e=new FormData;e.append("image_title",g),e.append("image",x),e.append("old_pict",x),e.append("article_link",v),j.a.post("".concat(m.a,"gallery/")+a,e,{headers:{"content-type":"multipart/form-data; boundary=---011000010111000001101001",api_token:localStorage.getItem("token")}}).then((function(e){document.location.href="/admin/galery"})).catch((function(e){console.log("Error"+e),o.b.error("pastikan semua input terisi dengan benar")})).finally((function(e){return c(!1)}))},type:"primary",block:!0,children:"Ubah"})]})})})})};g.getInitialProps=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=a.id,e.next=4,j.a.get("".concat(m.a,"image-management/images")+n);case 4:return c=(c=e.sent).data.data,e.abrupt("return",{galery:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=g}},[["6gKm",0,2,1,3,4,5,6,7,8,9]]]);