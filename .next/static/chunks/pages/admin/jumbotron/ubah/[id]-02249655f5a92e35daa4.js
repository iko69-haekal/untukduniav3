_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{KM4o:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/jumbotron/ubah/[id]",function(){return n("oUAx")}])},hmj4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="https://api.untukdunia.com/"},oUAx:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),c=n("HaE+"),i=n("nKUr"),o=n("tsqr"),u=n("8z0m"),s=n("2/Rp"),d=n("z7Xi"),l=n("vDqi"),m=n.n(l),p=n("q1tI"),b=n("M4zP"),j=n("hmj4"),f=n("nOHt"),h=function(e){var t=e.image,n=Object(f.useRouter)().query.id,a=Object(p.useState)(!1),r=a[0],c=a[1],l=Object(p.useState)(""),h=l[0],g=l[1];Object(p.useEffect)((function(){g(t.image)}),[]);return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(b.a,{children:Object(i.jsx)("div",{className:"row justify-content-center mt-5 pt-5",children:Object(i.jsxs)("div",{className:"col-md-6",children:[Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{children:"Gambar Produk: "}),Object(i.jsx)("br",{}),Object(i.jsx)(u.a,{beforeUpload:function(e){return e.size>7e5?(o.b.error("file terlalu besar"),!1):(g(e),!1)},children:Object(i.jsx)(s.a,{icon:Object(i.jsx)(d.a,{}),children:"Click to Upload"})})]}),Object(i.jsx)(s.a,{loading:r,onClick:function(){c(!0);var e=new FormData;e.append("image",h),e.append("old_pict",h),m.a.post("".concat(j.a,"image-management/images/")+n,e,{headers:{"content-type":"multipart/form-data; boundary=---011000010111000001101001",api_token:localStorage.getItem("token")}}).then((function(e){document.location.href="/admin/galery"})).catch((function(e){console.log("Error"+e),o.b.error("pastikan semua input terisi dengan benar")})).finally((function(e){return c(!1)}))},type:"primary",block:!0,children:"Ubah"})]})})})})};h.getInitialProps=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,a=n.id,e.next=4,m.a.get("".concat(j.a,"image-management/images/")+a);case 4:return c=(c=e.sent).data.data,e.abrupt("return",{image:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=h}},[["KM4o",0,1,2,3,4,5,6,7,8]]]);