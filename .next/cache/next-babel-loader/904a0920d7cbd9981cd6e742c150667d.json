{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport { LockOutlined, MailOutlined } from \"@ant-design/icons\";\nimport { useRouter } from \"next/router\";\n\nvar Login = function Login() {\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var history = useRouter();\n\n  var login = function login() {\n    setLoading(true);\n    Axios.post(\"https://api.untukdunia.com/login\", {\n      email: email,\n      password: password\n    }).then(function (res) {\n      var _res$data$data = res.data.data,\n          api_token = _res$data$data.api_token,\n          email = _res$data$data.email,\n          name = _res$data$data.name;\n      localStorage.setItem(\"token\", api_token);\n      localStorage.setItem(\"email\", email);\n      localStorage.setItem(\"name\", name);\n      history.push(\"/admin\");\n    })[\"catch\"](function (err) {\n      message.error(\"pastikan email dan password benar\");\n    })[\"finally\"](function (e) {\n      return setLoading(false);\n    });\n  };\n\n  useEffect(function () {\n    if (localStorage.getItem(\"token\")) {\n      history.push(\"/admin\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"container mt-5 pt-5\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-md-5\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsx(\"h2\", {\n                className: \"text-center font-weight-bold\",\n                children: \"Login\"\n              }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(Form, {\n                name: \"normal_login\",\n                className: \"login-form\",\n                onFinish: login,\n                children: [/*#__PURE__*/_jsx(Form.Item, {\n                  name: \"email\",\n                  rules: [{\n                    required: true,\n                    message: \"Please input your email!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(Input, {\n                    prefix: /*#__PURE__*/_jsx(MailOutlined, {\n                      className: \"site-form-item-icon\"\n                    }),\n                    placeholder: \"email\",\n                    onChange: function onChange(e) {\n                      return setEmail(e.target.value);\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(Form.Item, {\n                  name: \"password\",\n                  rules: [{\n                    required: true,\n                    message: \"Please input your Password!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(Input.Password, {\n                    prefix: /*#__PURE__*/_jsx(LockOutlined, {\n                      className: \"site-form-item-icon\"\n                    }),\n                    type: \"password\",\n                    placeholder: \"Password\",\n                    onChange: function onChange(e) {\n                      return setPassword(e.target.value);\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(Form.Item, {\n                  children: /*#__PURE__*/_jsx(Button, {\n                    type: \"primary\",\n                    htmlType: \"submit\",\n                    className: \"login-form-button\",\n                    block: true,\n                    loading: loading,\n                    children: \"Log in\"\n                  })\n                })]\n              })]\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}