{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{NgVH:function(t,e,n){\"use strict\";n.r(e);var a=n(\"o0o1\"),r=n.n(a),c=n(\"HaE+\"),i=n(\"nKUr\"),o=n(\"q1tI\"),s=n(\"M4zP\"),u=n(\"cioW\"),l=n.n(u),b=n(\"vDqi\"),d=n.n(b),j=n(\"z7Xi\"),p=n(\"tsqr\"),f=n(\"8z0m\"),h=n(\"2/Rp\"),m=n(\"nOHt\"),O=n(\"hmj4\"),x=function(t){var e=t.artikel,n=Object(m.useRouter)().query.id,a=Object(o.useState)(\"\"),r=a[0],c=a[1],u=Object(o.useState)(\"\"),b=u[0],x=u[1],g=Object(o.useState)(\"\"),_=g[0],v=g[1],k=Object(o.useState)(\"\"),N=k[0],w=k[1],y=Object(o.useState)(!1),E=y[0],H=y[1];Object(o.useEffect)((function(){c(e.article_content),x(e.article_title),v(e.article_sub_content),w(e.image)}),[]);return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(s.a,{children:Object(i.jsxs)(\"div\",{className:\"container pb-5\",children:[Object(i.jsxs)(\"div\",{class:\"form-group\",children:[Object(i.jsx)(\"label\",{children:\"title\"}),Object(i.jsx)(\"input\",{type:\"text\",className:\"form-control\",value:b,onChange:function(t){x(t.target.value)}})]}),Object(i.jsxs)(\"div\",{className:\"form-group\",children:[Object(i.jsx)(\"label\",{children:\"subcontent\"}),Object(i.jsx)(\"textarea\",{maxLength:25,className:\"form-control\",value:_,onChange:function(t){v(t.target.value)}})]}),Object(i.jsx)(\"label\",{children:\"deskripsi\"}),Object(i.jsx)(l.a,{value:r,tabIndex:1,onChange:function(t){return c(t)}}),Object(i.jsx)(\"br\",{}),Object(i.jsxs)(\"div\",{className:\"form-group\",children:[Object(i.jsx)(\"label\",{children:\"thumbnail\"}),Object(i.jsx)(\"br\",{}),Object(i.jsx)(f.a,{beforeUpload:function(t){return t.size>7e5?(p.b.error(\"file terlalu besar\"),!1):(w(t),!1)},children:Object(i.jsx)(h.a,{icon:Object(i.jsx)(j.a,{}),children:\"Click to Upload\"})})]}),Object(i.jsx)(h.a,{onClick:function(){if(b.length<5)return p.b.error(\"title too short\"),!1;if(_.length>=40)return p.b.error(\"subcontent max 40 char\"),!1;H(!0);var t=new FormData;t.append(\"article_title\",b),t.append(\"article_content\",r),t.append(\"article_sub_content\",_),t.append(\"image\",N),t.append(\"category\",\"education\"),t.append(\"old_pict\",N),d.a.post(\"\".concat(O.a,\"article/\")+n,t,{headers:{\"content-type\":\"multipart/form-data; boundary=---011000010111000001101001\",api_token:localStorage.getItem(\"token\")}}).then((function(t){document.location.href=\"/admin/artikel\"})).catch((function(t){console.log(\"Error\"+t),p.b.error(\"pastikan semua input terisi\")})).finally((function(t){return H(!1)}))},type:\"primary\",block:!0,loading:E,children:\"Ubah\"})]})})})};x.getInitialProps=function(){var t=Object(c.a)(r.a.mark((function t(e){var n,a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,a=n.id,t.next=4,d.a.get(O.a+\"article/\"+a);case 4:return c=(c=t.sent).data.data,t.abrupt(\"return\",{artikel:c});case 7:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.default=x},QtHN:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/artikel/ubah/[id]\",function(){return n(\"NgVH\")}])},hmj4:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return a}));var a=\"https://api.untukdunia.com/\"}},[[\"QtHN\",0,2,12,1,3,4,5,6,8,11]]]);","extractedComments":[]}